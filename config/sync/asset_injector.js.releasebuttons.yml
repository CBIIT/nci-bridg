uuid: c80cbb4a-1b64-470d-a087-31c94b12914d
langcode: en
status: true
dependencies:
  module:
    - system
id: releasebuttons
label: 'Release Buttons'
code: "(function( $ ) {\r\n  /*\r\n  * Get the Version number from the url\r\n  */\r\n  var path = window.location.pathname;\r\n  paths = path.split(\"/\");\r\n  var numb = paths[3].match(/\\d/g);\r\n  var version = numb.join(\".\");\r\n\r\n  var release_package_link = \"\";\r\n  var html_link = \"\";\r\n  \r\n  var release_package_git = \"https://github.com/CBIIT/bridg-model/raw/master/Releases/BRIDG_Release_\"+version+\"_Package.zip\";\r\n  var html_git = \"https://cbiit.github.io/bridg-model/HTML/BRIDG\"+version+\"/\";\r\n  var release_package_git_internal = \"https://bridgmodel.nci.nih.gov/files/BRIDG_Release_\"+version+\"_Package.zip\";\r\n  var html_git_internal = \"https://bridgmodel.nci.nih.gov/files/BRIDG_Model_\"+version+\"_html/index.htm\";\r\n  \r\n\r\n  console.log(version);\r\n\r\n  /*\r\n  * Fix the Release Package link \r\n  */\r\n  //Setting to git for all of them for now\r\n  release_package_link = release_package_git;\r\n  //The version 4's, 5.0, and 5.0.1 all use the internal link\r\n  if(version.substr(0, 1) == \"4\" || version.substr(0, 3) == \"5.0\" || version.substr(0, 5) == \"5.0.1\") {\r\n    release_package_link = release_package_git_internal;\r\n  }\r\n\r\n\r\n  /*\r\n  * Fix the HTML link \r\n  */\r\n  if(version.substr(0, 1) == \"5\" && version.substr(2, 1) != \"0\" ) {\r\n    console.log(\"Github Link\");\r\n    //release_package_link = release_package_git;\r\n    html_link = html_git;\r\n  } else {\r\n    console.log(\"Get internal Link \")\r\n    //release_package_link = release_package_git_internal;\r\n    html_link = html_git_internal;\r\n  }\r\n  //For some reason HTML is capitalized for version 1 and 3.1 but not others.\r\n  if(version.substr(0, 1) == \"1\" || version.substr(0, 3) == \"3.1\") {\r\n    html_link = \"https://bridgmodel.nci.nih.gov/files/BRIDG_Model_\"+version+\"_HTML/index.htm\";\r\n  }\r\n\r\n  //style=\"color: #fff;background-color: #007bff;border-color: #007bff;\"\r\n  var release_package_btn = '<a id=\"release-package-btn\" href=\"'+release_package_link+'\" class=\"btn btn-info btn-sm\" role=\"button\"><i class=\"fas fa-download\"></i> Download BRIDG '+version+' Release</a>';\r\n  var html_btn = '<a id=\"html-btn\" href=\"'+html_link+'\" class=\"btn btn-success btn-sm\" role=\"button\" target=\"_blank\" ><i class=\"fas fa-sitemap\"></i> Browse BRIDG '+version+' Online</a>';\r\n  var final_btn = '<span class=\"float-right\" >'+release_package_btn+'&nbsp;&nbsp;'+html_btn+'</span>';\r\n  \r\n  $(\"#block-nci-barrio-content > h2 > span\").append(final_btn);\r\n\r\n  \r\n})( jQuery );\r\n"
noscript: ''
noscriptRegion: {  }
jquery: true
header: false
preprocess: true
conditions:
  request_path:
    id: request_path
    pages: '/download-model/bridg-releases/*'
    negate: false
conditions_require_all: true
